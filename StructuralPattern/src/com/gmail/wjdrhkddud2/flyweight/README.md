## Flyweight 패턴

### 설명

- Flyweight 는 가볍다는 뜻이다.
- 쉽게 표현하면 생성중복을 없애서 자원을 아낄 수 있는 패턴이다.
- 예제코드가 완벽하진 않지만, 아래의 내용을 표현하려고 했다.
- CoordinatePin 은 필요한 정보인 Shape, x좌표, y좌표 를 그대로 받고 있다.
- 지도에 핀을 꼽는 프로그램이라고 헀을 때, Coordinate 객체를 사용한다면
- 100 씩 자원이 할당된다고 가정했다.
- 하지만 낭비되는 자원이 생긴다. 같은 Shape 인데도 new 로 생성하여 100씩 자원이 할당된다.
- Flyweight 패턴을 쓰면 달라진다.
- 대신 중복해서 쓰이는 속성인 Shape 와 변하는 속성인 x, y 좌표를 분리했다.
- 여기서 변하지 않는 부분인 Shape 가 intrinsic 부분,
- 변하는 부분인 extrinsic 부분이 좌표 부분이다.
- Flyweight 를 쓰려면 두 가지를 분리하는 것이 중요하다.
- 예제에서도 Pin 은 intrinsic 한 PinModel 부분을 분리했고,
- extrinsic 한 좌표를 분리했다.
- Factory 를 이용해서 생성할 때 이미 생성된 객체인지 확인하기 때문에
- 종류별로 10개씩 생성했을 때 차이를 확인할 수 있었다.
- 패턴을 적용하지 않았을 때는 개당 100이 소모돼서 3,000 자원이 소모됐지만
- 적용했을 때는 중복을 건너뛰어서 extrinsic 한 부분만 추가로 소모돼서 570밖에 소모되지 않았다.
- 찾아봤을 때 인상깊게 봤던 것은 폭탄피하기에서의 폭탄, 벽돌깨기에서의 벽돌,
- 마인크래프트에서의 지면, 나무 등등의 비슷하거나 같은 것들이었다.
